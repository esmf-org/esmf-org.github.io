<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Mesh &mdash; ESMPy ESMF_6_3_0rp1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     'ESMF_6_3_0rp1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="ESMPy ESMF_6_3_0rp1 documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">ESMPy ESMF_6_3_0rp1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
<div class="section" id="mesh">
<span id="id1"></span><h1>Mesh<a class="headerlink" href="#mesh" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="ESMF.Mesh">
<em class="property">class </em><tt class="descclassname">ESMF.</tt><tt class="descname">Mesh</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ESMF.Mesh" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="ESMF.Mesh.__del__">
<tt class="descname">__del__</tt><big>(</big><big>)</big><a class="headerlink" href="#ESMF.Mesh.__del__" title="Permalink to this definition">¶</a></dt>
<dd><p>Release the memory associated with a Mesh.</p>
<p>Required Arguments:</p>
<blockquote>
<div>None</div></blockquote>
<p>Optional Arguments:</p>
<blockquote>
<div>None</div></blockquote>
<p>Returns:</p>
<blockquote>
<div>None</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="ESMF.Mesh.__init__">
<tt class="descname">__init__</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ESMF.Mesh.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an unstructured Mesh. This can be done two different ways, 
as a Mesh in memory, or from a SCRIP formatted or CF compliant UGRID 
file. The argument for each type of Mesh creation are outlined below.</p>
<p>Mesh in memory:</p>
<blockquote>
<div><p>The in-memory Mesh can be created manually in 3 steps:</p>
<ol class="arabic simple">
<li>create the Mesh (specifying parametric_dim and spatial_dim),</li>
<li>add nodes,</li>
<li>add elements.</li>
</ol>
<p>Required arguments for a Mesh in memory:</p>
<blockquote>
<div><p>parametric_dim: the dimension of the topology of the Mesh (e.g.
a Mesh composed of squares would have a parametric dimension of 
2 and a Mesh composed of cubes would have a parametric dimension
of 3).</p>
<p>spatial_dim: the number of coordinate dimensions needed to
describe the locations of the nodes making up the Mesh.  For a
manifold the spatial dimension can be larger than the parametric
dimension (e.g. the 2D surface of a sphere in 3D space), but it
cannot be smaller.</p>
</div></blockquote>
<p>Optional arguments for creating a Mesh in memory:</p>
<blockquote>
<div>None</div></blockquote>
</div></blockquote>
<p>Mesh from file:</p>
<blockquote>
<div><p>Note that Meshes created from file do not have the parametric_dim and
spatial dim set.  Required arguments for creating a Mesh from file:</p>
<blockquote>
<div><p>filename: the name of NetCDF file containing the Mesh.</p>
<p>filetype: the input file type of the Mesh.</p>
<blockquote>
<div><p>Argument values are:</p>
<blockquote>
<div><p>FileFormat.SCRIP</p>
<p>FileFormat.ESMFMESH</p>
<p>FileFormat.UGRID</p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<p>Optional arguments for creating a Mesh from file:</p>
<blockquote>
<div><dl class="docutils">
<dt>convert_to_dual: a boolean value to specify if the dual </dt>
<dd>Mesh should be calculated. 
Defaults to True. This argument is only
supported with filetype FileFormat.SCRIP.</dd>
<dt>add_user_area: a boolean value to specify if an area </dt>
<dd>property should be added to the mesh.  This
argument is only supported for filetype 
FileFormat.SCRIP or FileFormat.ESMFMESH.  
Defaults to False.</dd>
<dt>meshname: a string value specifying the name of the </dt>
<dd>Mesh metadata variable in a UGRID file.  This 
argument is only supported with filetype 
FileFormat.UGRID.  Defaults to the empty string.</dd>
<dt>add_mask: a boolean value to specify if a mask in a UGRID file</dt>
<dd>should be added to the Mesh.  This 
argument is only supported with filetype 
FileFormat.UGRID.  Defaults to False.</dd>
<dt>varname: a string to specify a variable name for the mask in a</dt>
<dd>UGRID file if add_mask is True.  This argument is only
supported for filetype FileFormat.UGRID.  Defaults to 
the empty string.</dd>
</dl>
</div></blockquote>
</div></blockquote>
<p>Returns:</p>
<blockquote>
<div>Mesh</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="ESMF.Mesh.add_elements">
<tt class="descname">add_elements</tt><big>(</big><em>element_count</em>, <em>element_ids</em>, <em>element_types</em>, <em>element_conn</em>, <em>element_mask=None</em>, <em>element_area=None</em><big>)</big><a class="headerlink" href="#ESMF.Mesh.add_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Add elements to a Mesh, this must be done after adding nodes.</p>
<p>Required Arguments:</p>
<blockquote>
<div><p>element_count: the number of elements to add to the Mesh.</p>
<dl class="docutils">
<dt>element_ids: a numpy array (internally cast to </dt>
<dd><p class="first">dtype=numpy.int32) to specify the element_ids.</p>
<blockquote class="last">
<div><p>type: numpy.array</p>
<p>shape: (element_count, 1)</p>
</div></blockquote>
</dd>
<dt>element_types: a numpy array (internally cast to </dt>
<dd><p class="first">dtype=numpy.int32) to specify the element_types.</p>
<blockquote>
<div><p>type: numpy.array</p>
<p>shape: (element_count, 1)</p>
</div></blockquote>
<p>Argument values are:</p>
<blockquote class="last">
<div><p>MeshElemType.TRI</p>
<p>MeshElemType.QUAD</p>
<p>MeshElemType.TETRA</p>
<p>MeshElemType.HEX</p>
</div></blockquote>
</dd>
<dt>element_conn: a numpy array (internally cast to </dt>
<dd><p class="first">dtype=numpy.int32) to specify the connectivity 
of the Mesh.  The connectivity array is 
constructed by concatenating
the tuples that correspond to the 
element_ids.  The connectivity tuples are
constructed by listing the node_ids of each 
element in COUNTERCLOCKWISE order.</p>
<blockquote class="last">
<div><p>type: numpy.array</p>
<p>shape: (sum(element_types[:], 1)</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<p>Optional Arguments:</p>
<blockquote>
<div><dl class="docutils">
<dt>element_mask: a numpy array (internally cast to </dt>
<dd><p class="first">dtype=numpy.int32) containing integer values to 
specify masked elements.  The specific values that are masked
are specified in the Regrid() constructor.</p>
<blockquote class="last">
<div><p>type: numpy.array</p>
<p>shape: (element_count, 1)</p>
</div></blockquote>
</dd>
<dt>element_area: a numpy array (internally cast to </dt>
<dd><p class="first">dtype=numpy.float64) to specify the areas of the 
elements.</p>
<blockquote class="last">
<div><p>type: numpy.array</p>
<p>shape: (element_count, 1)</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<p>Returns:</p>
<blockquote>
<div>None</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="ESMF.Mesh.add_nodes">
<tt class="descname">add_nodes</tt><big>(</big><em>node_count</em>, <em>node_ids</em>, <em>node_coords</em>, <em>node_owners</em><big>)</big><a class="headerlink" href="#ESMF.Mesh.add_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Add nodes to a Mesh, this must be done before adding elements.</p>
<p>Required Arguments:</p>
<blockquote>
<div><p>node_count: the number of nodes to add to the Mesh.</p>
<dl class="docutils">
<dt>node_ids: a numpy array (internally cast to </dt>
<dd><p class="first">dtype=numpy.int32) to specify the node_ids.</p>
<blockquote class="last">
<div><p>type: numpy.array</p>
<p>shape: (node_count, 1)</p>
</div></blockquote>
</dd>
<dt>node_coords: a numpy array (internally cast to </dt>
<dd><p class="first">dtype=numpy.float64) to specify the coordinates 
of the Mesh.  The array should be constructed by 
concatenating the coordinate tuples into a numpy array 
that correspond to node_ids.</p>
<blockquote class="last">
<div><p>type: numpy.array</p>
<p>shape: (spatial_dim*node_count, 1)</p>
</div></blockquote>
</dd>
<dt>node_owners: a numpy array (internally cast to </dt>
<dd><p class="first">dtype=numpy.int32) to specify the rank of the
processor that owns each node.</p>
<blockquote class="last">
<div><p>type: numpy.array</p>
<p>shape: (node_count, 1)</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<p>Optional Arguments:</p>
<blockquote>
<div>None</div></blockquote>
<p>Returns:</p>
<blockquote>
<div>None</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="ESMF.Mesh.free_memory">
<tt class="descname">free_memory</tt><big>(</big><big>)</big><a class="headerlink" href="#ESMF.Mesh.free_memory" title="Permalink to this definition">¶</a></dt>
<dd><p>Free memory associated with the creation of a Mesh which is no 
longer needed.</p>
<p>Required Arguments:</p>
<blockquote>
<div>None</div></blockquote>
<p>Optional Arguments:</p>
<blockquote>
<div>None</div></blockquote>
<p>Returns:</p>
<blockquote>
<div>None</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="ESMF.Mesh.get_coords">
<tt class="descname">get_coords</tt><big>(</big><em>coord_dim</em>, <em>meshloc=0</em><big>)</big><a class="headerlink" href="#ESMF.Mesh.get_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a numpy array of coordinates at a specified Mesh 
location (coordinates can only be returned for the Mesh NODES 
at this time). The returned array is NOT a copy, it is
directly aliased to the underlying memory allocated by ESMF.</p>
<p>Required Arguments:</p>
<blockquote>
<div><dl class="docutils">
<dt>coord_dim: the dimension number of the coordinates to return:</dt>
<dd>e.g. [x, y, z] = (0, 1, 2), or [lat, lon] = (0, 1)</dd>
</dl>
</div></blockquote>
<p>Optional Arguments:</p>
<blockquote>
<div><p>meshloc: the mesh location of the coordinates.</p>
<blockquote>
<div><p>Argument values are:</p>
<blockquote>
<div><p>node=0 (default)</p>
<p>element=1 (not implemented)</p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<p>Returns:</p>
<blockquote>
<div>None</div></blockquote>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/mesh.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">ESMPy ESMF_6_3_0rp1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011-2014, University Corporation for Atmospheric Research, Massachusetts Institute of Technology, Geophysical Fluid Dynamics Laboratory, University of Michigan, National Centers for Environmental Prediction, Los Alamos National Laboratory, Argonne National Laboratory, NASA Goddard Space Flight Center.  Licensed under the University of Illinois-NCSA License.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.1.
    </div>
  </body>
</html>