<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2002 (1.67)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>9 Compiling and Linking User Code against an ESMF Installation</TITLE>
<META NAME="description" CONTENT="9 Compiling and Linking User Code against an ESMF Installation">
<META NAME="keywords" CONTENT="ESMF_usrdoc">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v2002">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="ESMF_usrdoc.css">

<LINK REL="next" HREF="node11.html">
<LINK REL="previous" HREF="node9.html">
<LINK REL="up" HREF="ESMF_usrdoc.html">
<LINK REL="next" HREF="node11.html">
</HEAD>

<BODY BGCOLOR=white LINK=#083194 VLINK=#21004A>
<!--Navigation Panel-->
<A NAME="tex2html345"
  HREF="node11.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html341"
  HREF="ESMF_usrdoc.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html335"
  HREF="node9.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html343"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html346"
  HREF="node11.html">10 Architectural Overview</A>
<B> Up:</B> <A NAME="tex2html342"
  HREF="ESMF_usrdoc.html">ESMF_usrdoc</A>
<B> Previous:</B> <A NAME="tex2html336"
  HREF="node9.html">8 Validating an ESMF</A>
 &nbsp <B>  <A NAME="tex2html344"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION000100000000000000000"></A>
<A NAME="sec:Use"></A>
<BR>
9 Compiling and Linking User Code against an ESMF Installation
</H1>

<P>

<P>
<A NAME="UsingLibrary"></A>
<P>
Building a user application against an ESMF installation requires that the compiler and linker be able to find the appropriate ESMF header, module and library files. If this procedure has been documented by the installer of the ESMF library on your system then follow the directions given. Otherwise it is up to the user to determine and provide the required compiler and linker flags. Every ESMF installation provides a file named <TT>esmf.mk</TT> that contains the relevant information.

<P>
The location of the <TT>esmf.mk</TT> file should be documented by the party that installed ESMF on the system. We recommend that a single ESMF specific environment variable ESMFMKFILE be set to point to the <TT>esmf.mk</TT> file. See section <A HREF="node7.html#InstallESMF">6.8</A> for the related discussion.

<P>
The information in <TT>esmf.mk</TT> is defined in form of variables. In fact, syntactically <TT>esmf.mk</TT> is a makefile fragment and can be imported by an application specific makefile via the <TT>include</TT> command. All the variables in <TT>esmf.mk</TT> start with an "<TT>ESMF_</TT>" prefix to prevent conflicts. The information in <TT>esmf.mk</TT> is fully specified and is not affected by any variables set in the user's environment.

<P>
The information defined in <TT>esmf.mk</TT> includes Fortran compiler and linker, as well as C++ compiler and linker. It further includes the Fortran and C++ specific compiler and linker flags. One way of using the <TT>esmf.mk</TT> is to glean the necessary information from it and use this information directly on the command line when compiling a user application, or to hardwire it into the application specific build system. However, the recommended use of <TT>esmf.mk</TT> is to include this file in the application specific makefile directly via the <TT>include</TT> command, and to use the defined variables to augment the application specific settings.

<P>


<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html345"
  HREF="node11.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html341"
  HREF="ESMF_usrdoc.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html335"
  HREF="node9.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html343"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html346"
  HREF="node11.html">10 Architectural Overview</A>
<B> Up:</B> <A NAME="tex2html342"
  HREF="ESMF_usrdoc.html">ESMF_usrdoc</A>
<B> Previous:</B> <A NAME="tex2html336"
  HREF="node9.html">8 Validating an ESMF</A>
 &nbsp <B>  <A NAME="tex2html344"
  HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<A HREF=mailto:esmf_support@list.woc.noaa.gov>esmf_support@list.woc.noaa.gov</A>
</ADDRESS>
</BODY>
</HTML>
