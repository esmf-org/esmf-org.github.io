<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2002 (1.67)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>ESMF_usrdoc</TITLE>
<META NAME="description" CONTENT="ESMF_usrdoc">
<META NAME="keywords" CONTENT="ESMF_usrdoc">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v2002">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="ESMF_usrdoc.css">

<LINK REL="next" HREF="node1.html">
</HEAD>

<BODY BGCOLOR=white LINK=#083194 VLINK=#21004A>
<!--Navigation Panel-->
<A NAME="tex2html47"
  HREF="node1.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_g.png"> 
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev_g.png"> 
<A NAME="tex2html45"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html48"
  HREF="node1.html">Contents</A>
 &nbsp <B>  <A NAME="tex2html46"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<P>

<P>

<P>

<P>
<DIV ALIGN="CENTER">
<FONT SIZE="+2">Earth System Modeling Framework </FONT> 
<BR>
<BR>
<BR>
<BR>
<FONT SIZE="+2"><B>ESMF User Guide&nbsp;&nbsp;</B></FONT> 
<BR>
<BR>
<BR>
<BR>
<FONT SIZE="+1"><B>Version 5.1</B></FONT> 
<BR>
<BR>
<BR>
<BR>
<BR>
<FONT SIZE="+1"><I>ESMF Joint Specification Team:  V. Balaji, Byron Boville, Samson Cheung, Nancy Collins, Tony Craig, Carlos Cruz, Arlindo da Silva, Cecelia DeLuca, Rosalinda de Fainchtein, Brian Eaton, Bob Hallberg, Tom Henderson, Chris Hill, Mark Iredell, Rob Jacob, Phil Jones, Erik Kluzek, Brian Kauffman, Jay Larson, Peggy Li, Fei Liu, John Michalakes, Sylvia Murphy, David Neckels, Ryan O Kuinghttons, Bob Oehmke, Chuck Panaccione, Jim Rosinski, Will Sawyer, Earl Schwab, Shepard Smithline, Walter Spector, Don Stark, Max Suarez, Spencer Swift, Gerhard Theurich, Atanas Trayanov, Silverio Vasquez, Jon Wolfe, Weiyu Yang, Mike Young, Leonid Zaslavsky</I></FONT> 
<BR>
<BR>
<BR>
<BR>
<FONT SIZE="+1">February 28, 2011</FONT>
<BR>
<BR>
<BR>

</DIV>

<P>

<P>

<P>


<P>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<DIV ALIGN="CENTER">
<B>Acknowledgements</B>

</DIV>

<P>
The ESMF software is based on the contributions of a broad community.
Below are the software packages that are included in ESMF or strongly 
influenced our design.  We'd like to express our gratitude to the 
developers of these codes for access to their software as well as their 
ideas and advice.

<P>

<UL>
<LI>The Spherical Coordinate Remapping and Interpolation Package (SCRIP) 
from Los Alamos, which informed the design of our regridding functionality

<P>
</LI>
<LI>The Model Coupling Toolkit (MCT) from Argonne National Laboratory,
on which we based our sparse matrix multiply approach to general 
regridding

<P>
</LI>
<LI>The Inpack configuration attributes package from NASA Goddard, 
which was adapted for use in ESMF by members of NASA Global Modeling and 
Assimilation group

<P>
</LI>
<LI>The Flexible Modeling System (FMS) package from GFDL and the 
Goddard Earth Modeling System (GEMS) from NASA Goddard, both of which 
provided inspiration for the overall ESMF architecture 

<P>
</LI>
<LI>The Common Component Architecture (CCA) effort within the Department
of Energy, from which we drew many ideas about how to design components

<P>
</LI>
<LI>The Vector Signal Image Processing Library (VSIPL) and its
predecessors, which informed many aspects of our design, and the 
radar system software design group at Lincoln Laboratory

<P>
</LI>
<LI>The Portable, Extensible Toolkit for Scientific Computation (PETSc) 
package from Argonne National Laboratories, on which we 
based our initial makefile system

<P>
</LI>
<LI>The Community Climate System Model (CCSM) and Weather Research and
Forecasting (WRF) modeling groups at NCAR, who have provided valuable
feedback on the design and implementation of the framework

<P>
</LI>
</UL>

<P>

<BR><HR>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"></A>

<UL>
<LI><A NAME="tex2html49"
  HREF="node1.html">Contents</A>
<LI><A NAME="tex2html50"
  HREF="node2.html">1 What is the Earth System Modeling Framework?</A>
<LI><A NAME="tex2html51"
  HREF="node3.html">2 The ESMF User's Guide</A>
<LI><A NAME="tex2html52"
  HREF="node4.html">3 How to Contact User Support and Find Additional Information</A>
<LI><A NAME="tex2html53"
  HREF="node5.html">4 How to Submit Comments, Bug Reports, and Feature Requests</A>
<LI><A NAME="tex2html54"
  HREF="node6.html">5 Quick Start</A>
<UL>
<LI><A NAME="tex2html55"
  HREF="node6.html#SECTION00061000000000000000">5.1 Downloading ESMF</A>
<UL>
<LI><A NAME="tex2html56"
  HREF="node6.html#SECTION00061100000000000000">5.1.1 From the ESMF web site</A>
<LI><A NAME="tex2html57"
  HREF="node6.html#SECTION00061200000000000000">5.1.2 From the SourceForge website</A>
</UL>
<LI><A NAME="tex2html58"
  HREF="node6.html#SECTION00062000000000000000">5.2 Unpacking the download</A>
<LI><A NAME="tex2html59"
  HREF="node6.html#SECTION00063000000000000000">5.3 Directory Structure</A>
<LI><A NAME="tex2html60"
  HREF="node6.html#SECTION00064000000000000000">5.4 Building ESMF</A>
<UL>
<LI><A NAME="tex2html61"
  HREF="node6.html#SECTION00064100000000000000">5.4.1 Environment variables</A>
<LI><A NAME="tex2html62"
  HREF="node6.html#SECTION00064200000000000000">5.4.2 GNU make</A>
<LI><A NAME="tex2html63"
  HREF="node6.html#SECTION00064300000000000000">5.4.3 gmake info</A>
<LI><A NAME="tex2html64"
  HREF="node6.html#SECTION00064400000000000000">5.4.4 Building makefile targets</A>
<LI><A NAME="tex2html65"
  HREF="node6.html#SECTION00064500000000000000">5.4.5 Testing makefile targets</A>
<LI><A NAME="tex2html66"
  HREF="node6.html#SECTION00064600000000000000">5.4.6 Building and using bundled ESMF applications</A>
</UL>
</UL>
<BR>
<LI><A NAME="tex2html67"
  HREF="node7.html">6 Compiling and Linking User Code against an ESMF Installation</A>
<LI><A NAME="tex2html68"
  HREF="node8.html">7 Using Bundled ESMF Applications</A>
<LI><A NAME="tex2html69"
  HREF="node9.html">8 Building and Installing the ESMF</A>
<UL>
<LI><A NAME="tex2html70"
  HREF="node9.html#SECTION00091000000000000000">8.1 ESMF Download Options</A>
<LI><A NAME="tex2html71"
  HREF="node9.html#SECTION00092000000000000000">8.2 System Requirements</A>
<LI><A NAME="tex2html72"
  HREF="node9.html#SECTION00093000000000000000">8.3 Third Party Libraries</A>
<UL>
<LI><A NAME="tex2html73"
  HREF="node9.html#SECTION00093100000000000000">8.3.1 LAPACK</A>
<LI><A NAME="tex2html74"
  HREF="node9.html#SECTION00093200000000000000">8.3.2 NetCDF</A>
<LI><A NAME="tex2html75"
  HREF="node9.html#SECTION00093300000000000000">8.3.3 Parallel-NetCDF</A>
<LI><A NAME="tex2html76"
  HREF="node9.html#SECTION00093400000000000000">8.3.4 PIO</A>
<LI><A NAME="tex2html77"
  HREF="node9.html#SECTION00093500000000000000">8.3.5 XERCES</A>
</UL>
<LI><A NAME="tex2html78"
  HREF="node9.html#SECTION00094000000000000000">8.4 ESMF Environment Variables</A>
<LI><A NAME="tex2html79"
  HREF="node9.html#SECTION00095000000000000000">8.5 Supported Platforms</A>
<LI><A NAME="tex2html80"
  HREF="node9.html#SECTION00096000000000000000">8.6 Building the ESMF Library</A>
<LI><A NAME="tex2html81"
  HREF="node9.html#SECTION00097000000000000000">8.7 Building the ESMF Documentation</A>
<LI><A NAME="tex2html82"
  HREF="node9.html#SECTION00098000000000000000">8.8 Installing the ESMF</A>
</UL>
<BR>
<LI><A NAME="tex2html83"
  HREF="node10.html">9 Porting the ESMF</A>
<UL>
<LI><A NAME="tex2html84"
  HREF="node10.html#SECTION000101000000000000000">9.1 The ESMF Build System</A>
<UL>
<LI><A NAME="tex2html85"
  HREF="node10.html#SECTION000101100000000000000">9.1.1 General structure</A>
<LI><A NAME="tex2html86"
  HREF="node10.html#SECTION000101200000000000000">9.1.2 Build configuration</A>
<LI><A NAME="tex2html87"
  HREF="node10.html#SECTION000101300000000000000">9.1.3 Source code configuration</A>
</UL>
<LI><A NAME="tex2html88"
  HREF="node10.html#SECTION000102000000000000000">9.2 Porting the ESMF to New Platforms</A>
<UL>
<LI><A NAME="tex2html89"
  HREF="node10.html#SECTION000102100000000000000">9.2.1 Customizing the <TT>build_rules.mk</TT> fragment</A>
<LI><A NAME="tex2html90"
  HREF="node10.html#SECTION000102200000000000000">9.2.2 Customizing <TT>ESMC_Conf.h</TT> and <TT>ESMF_Conf.inc</TT></A>
</UL>
<LI><A NAME="tex2html91"
  HREF="node10.html#SECTION000103000000000000000">9.3 Shared Object Libraries</A>
<LI><A NAME="tex2html92"
  HREF="node10.html#SECTION000104000000000000000">9.4 Customized SITE Files</A>
</UL>
<BR>
<LI><A NAME="tex2html93"
  HREF="node11.html">10 Validating an ESMF Build</A>
<UL>
<LI><A NAME="tex2html94"
  HREF="node11.html#SECTION000111000000000000000">10.1 Running ESMF Self-Tests</A>
<UL>
<LI><A NAME="tex2html95"
  HREF="node11.html#SECTION000111100000000000000">10.1.1 Setting up ESMF to run test suite applications</A>
<LI><A NAME="tex2html96"
  HREF="node11.html#SECTION000111200000000000000">10.1.2 Running ESMF unit tests</A>
<LI><A NAME="tex2html97"
  HREF="node11.html#SECTION000111300000000000000">10.1.3 Running ESMF system tests</A>
</UL>
<LI><A NAME="tex2html98"
  HREF="node11.html#SECTION000112000000000000000">10.2 Running ESMF Examples</A>
<UL>
<LI><A NAME="tex2html99"
  HREF="node11.html#SECTION000112100000000000000">10.2.1 Example source code</A>
<LI><A NAME="tex2html100"
  HREF="node11.html#SECTION000112200000000000000">10.2.2 Building and running examples</A>
</UL>
</UL>
<BR>
<LI><A NAME="tex2html101"
  HREF="node12.html">11 Architectural Overview</A>
<UL>
<LI><A NAME="tex2html102"
  HREF="node12.html#SECTION000121000000000000000">11.1 Key Concepts</A>
<UL>
<LI><A NAME="tex2html103"
  HREF="node12.html#SECTION000121100000000000000">11.1.1 Modularity</A>
<LI><A NAME="tex2html104"
  HREF="node12.html#SECTION000121200000000000000">11.1.2 Flexibility</A>
<LI><A NAME="tex2html105"
  HREF="node12.html#SECTION000121300000000000000">11.1.3 Hierarchical organization</A>
<LI><A NAME="tex2html106"
  HREF="node12.html#SECTION000121400000000000000">11.1.4 Communication within Components</A>
<LI><A NAME="tex2html107"
  HREF="node12.html#SECTION000121500000000000000">11.1.5 Uniform communication API</A>
</UL>
<LI><A NAME="tex2html108"
  HREF="node12.html#SECTION000122000000000000000">11.2 Superstructure</A>
<UL>
<LI><A NAME="tex2html109"
  HREF="node12.html#SECTION000122100000000000000">11.2.1 Import and export State classes</A>
<LI><A NAME="tex2html110"
  HREF="node12.html#SECTION000122200000000000000">11.2.2 Interface standards</A>
<LI><A NAME="tex2html111"
  HREF="node12.html#SECTION000122300000000000000">11.2.3 Gridded Component class</A>
<LI><A NAME="tex2html112"
  HREF="node12.html#SECTION000122400000000000000">11.2.4 Coupler Component class</A>
<LI><A NAME="tex2html113"
  HREF="node12.html#SECTION000122500000000000000">11.2.5 Flexible data and control flow</A>
</UL>
<LI><A NAME="tex2html114"
  HREF="node12.html#SECTION000123000000000000000">11.3 Infrastructure</A>
<UL>
<LI><A NAME="tex2html115"
  HREF="node12.html#SECTION000123100000000000000">11.3.1 FieldBundle, Field and Array classes</A>
<LI><A NAME="tex2html116"
  HREF="node12.html#SECTION000123200000000000000">11.3.2 Grid class</A>
<LI><A NAME="tex2html117"
  HREF="node12.html#SECTION000123300000000000000">11.3.3 Time and Calendar management</A>
<LI><A NAME="tex2html118"
  HREF="node12.html#SECTION000123400000000000000">11.3.4 Config resource file manager</A>
<LI><A NAME="tex2html119"
  HREF="node12.html#SECTION000123500000000000000">11.3.5 DELayout and virtual machine</A>
<LI><A NAME="tex2html120"
  HREF="node12.html#SECTION000123600000000000000">11.3.6 Logging and error handling</A>
<LI><A NAME="tex2html121"
  HREF="node12.html#SECTION000123700000000000000">11.3.7 File input and output</A>
</UL>
</UL>
<BR>
<LI><A NAME="tex2html122"
  HREF="node13.html">12 ESMF COUPLED_FLOW Demonstration Program</A>
<UL>
<LI><A NAME="tex2html123"
  HREF="node13.html#SECTION000131000000000000000">12.1 ESMF COUPLED_FLOW Description</A>
<LI><A NAME="tex2html124"
  HREF="node13.html#SECTION000132000000000000000">12.2 Program Organization</A>
</UL>
<BR>
<LI><A NAME="tex2html125"
  HREF="node14.html">13 ESMF COUPLED_FLOW Demonstration Code Details</A>
<UL>
<LI><A NAME="tex2html126"
  HREF="node14.html#SECTION000141000000000000000">13.1 Fortran:  Module Interface CoupledFlowApp.F90 - Main program source file for demo (Source File: CoupledFlowApp.F90)</A>
<UL>
<LI><A NAME="tex2html127"
  HREF="node14.html#SECTION000141100000000000000">13.1.1 Namelist Input Parameters for CoupledFlowApp:</A>
<LI><A NAME="tex2html128"
  HREF="node14.html#SECTION000141200000000000000">13.1.2 Example of Initializing the Framework:</A>
<LI><A NAME="tex2html129"
  HREF="node14.html#SECTION000141300000000000000">13.1.3 Example of Calendar and Clock Creation and Usage:</A>
<LI><A NAME="tex2html130"
  HREF="node14.html#SECTION000141400000000000000">13.1.4 Example of Grid Creation:</A>
<LI><A NAME="tex2html131"
  HREF="node14.html#SECTION000141500000000000000">13.1.5 Example of State Creation:</A>
<LI><A NAME="tex2html132"
  HREF="node14.html#SECTION000141600000000000000">13.1.6 Example of Initialize, Run, and Finalize:</A>
<LI><A NAME="tex2html133"
  HREF="node14.html#SECTION000141700000000000000">13.1.7 Example of Object Destruction:</A>
<LI><A NAME="tex2html134"
  HREF="node14.html#SECTION000141800000000000000">13.1.8 Example of ESMF Finalize:</A>
</UL>
<LI><A NAME="tex2html135"
  HREF="node14.html#SECTION000142000000000000000">13.2 Fortran:  Module Interface CoupledFlowDemo.F90 - Top level Gridded Component source (Source File: CoupledFlowDemo.F90)</A>
<UL>
<LI><A NAME="tex2html136"
  HREF="node14.html#SECTION000142100000000000000">13.2.1 Example of Set Services Usage:</A>
<LI><A NAME="tex2html137"
  HREF="node14.html#SECTION000142200000000000000">13.2.2 Example of Component Creation:</A>
<LI><A NAME="tex2html138"
  HREF="node14.html#SECTION000142300000000000000">13.2.3 Example of State Creation:</A>
<LI><A NAME="tex2html139"
  HREF="node14.html#SECTION000142400000000000000">13.2.4 Example of Time Stepping Loop:</A>
<LI><A NAME="tex2html140"
  HREF="node14.html#SECTION000142500000000000000">13.2.5 Example of Clock Destruction:</A>
</UL>
<LI><A NAME="tex2html141"
  HREF="node14.html#SECTION000143000000000000000">13.3 Fortran:  Module Interface FlowSolverMod.F90 - Source file for Flow Solver Component (Source File: FlowSolverMod.F90)</A>
<UL>
<LI><A NAME="tex2html142"
  HREF="node14.html#SECTION000143100000000000000">13.3.1 Namelist Input Parameters for Flowsolver:</A>
<LI><A NAME="tex2html143"
  HREF="node14.html#SECTION000143200000000000000">13.3.2 Example of FieldHalo Usage:</A>
</UL>
<LI><A NAME="tex2html144"
  HREF="node14.html#SECTION000144000000000000000">13.4 Fortran:  Module Interface FlowArraysMod.F90 - Source file for Data for Flow Solver (Source File: FlowArraysMod.F90)</A>
<UL>
<LI><A NAME="tex2html145"
  HREF="node14.html#SECTION000144100000000000000">13.4.1 Example of Field Creation and Array Usage:</A>
</UL>
<LI><A NAME="tex2html146"
  HREF="node14.html#SECTION000145000000000000000">13.5 Fortran:  Module Interface CouplerMod.F90 - Source for 2-way Coupler Component (Source File: CouplerMod.F90)</A>
<UL>
<LI><A NAME="tex2html147"
  HREF="node14.html#SECTION000145100000000000000">13.5.1 Example of Redist Usage:</A>
</UL>
<LI><A NAME="tex2html148"
  HREF="node14.html#SECTION000146000000000000000">13.6 Fortran:  Module Interface InjectorMod - Fluid Injection Component (Source File: InjectorMod.F90)</A>
<UL>
<LI><A NAME="tex2html149"
  HREF="node14.html#SECTION000146100000000000000">13.6.1 Namelist Input Parameters for Injector:</A>
</UL>
</UL>
<BR>
<LI><A NAME="tex2html150"
  HREF="node15.html">14 How to Adapt Applications for ESMF</A>
<UL>
<LI><A NAME="tex2html151"
  HREF="node15.html#SECTION000151000000000000000">14.1 Individual Components</A>
<LI><A NAME="tex2html152"
  HREF="node15.html#SECTION000152000000000000000">14.2 Full Application</A>
</UL>
<BR>
<LI><A NAME="tex2html153"
  HREF="node16.html">15 Glossary</A>
<LI><A NAME="tex2html154"
  HREF="node17.html">Bibliography</A>
<LI><A NAME="tex2html155"
  HREF="node18.html">About this document ...</A>
</UL>
<!--End of Table of Child-Links-->
<HR>
<!--Navigation Panel-->
<A NAME="tex2html47"
  HREF="node1.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_g.png"> 
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev_g.png"> 
<A NAME="tex2html45"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html48"
  HREF="node1.html">Contents</A>
 &nbsp <B>  <A NAME="tex2html46"
  HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<A HREF=mailto:esmf_support@list.woc.noaa.gov>esmf_support@list.woc.noaa.gov</A>
</ADDRESS>
</BODY>
</HTML>
