\babel@toc {english}{}
\contentsline {section}{\numberline {1}Introduction}{5}{section.1}
\contentsline {subsection}{\numberline {1.1}About this Document}{5}{subsection.1.1}
\contentsline {subsection}{\numberline {1.2}Supplementary Information}{5}{subsection.1.2}
\contentsline {subsection}{\numberline {1.3}Acknowledgments}{5}{subsection.1.3}
\contentsline {section}{\numberline {2}Groups and Roles in ESMF Development}{5}{section.2}
\contentsline {subsection}{\numberline {2.1}Core Team}{5}{subsection.2.1}
\contentsline {subsubsection}{\numberline {2.1.1}Core Team Roles}{5}{subsubsection.2.1.1}
\contentsline {subsection}{\numberline {2.2}Joint Specification Team (JST)}{7}{subsection.2.2}
\contentsline {subsection}{\numberline {2.3}Change Review Board (CRB)}{7}{subsection.2.3}
\contentsline {subsection}{\numberline {2.4}Quality Assurance Responsibilities}{7}{subsection.2.4}
\contentsline {section}{\numberline {3}Collaboration Environment and Communication}{7}{section.3}
\contentsline {subsection}{\numberline {3.1}Mailing Lists}{7}{subsection.3.1}
\contentsline {subsection}{\numberline {3.2}Meetings and Telecons}{8}{subsection.3.2}
\contentsline {subsection}{\numberline {3.3}SourceForge Open Source Development Environment}{8}{subsection.3.3}
\contentsline {subsubsection}{\numberline {3.3.1}The Main ESMF Site and Repository}{8}{subsubsection.3.3.1}
\contentsline {subsubsection}{\numberline {3.3.2}The ESMF Contributions Site and Repository}{9}{subsubsection.3.3.2}
\contentsline {section}{\numberline {4}Processes}{9}{section.4}
\contentsline {subsection}{\numberline {4.1}Software Process Model}{9}{subsection.4.1}
\contentsline {subsection}{\numberline {4.2}ESMF Process History}{9}{subsection.4.2}
\contentsline {subsubsection}{\numberline {4.2.1}Software Concept}{9}{subsubsection.4.2.1}
\contentsline {subsubsection}{\numberline {4.2.2}Requirements Analysis}{10}{subsubsection.4.2.2}
\contentsline {subsubsection}{\numberline {4.2.3}Architectural Design}{10}{subsubsection.4.2.3}
\contentsline {subsection}{\numberline {4.3}Ongoing Development}{10}{subsection.4.3}
\contentsline {subsubsection}{\numberline {4.3.1}Telecon Etiquette}{10}{subsubsection.4.3.1}
\contentsline {subsubsection}{\numberline {4.3.2}Design Reviews}{10}{subsubsection.4.3.2}
\contentsline {subsubsection}{\numberline {4.3.3}Implementation and Test Before Internal Release}{11}{subsubsection.4.3.3}
\contentsline {subsubsection}{\numberline {4.3.4}Implementation and Test Before Public Release}{11}{subsubsection.4.3.4}
\contentsline {subsubsection}{\numberline {4.3.5}Code Check-In}{12}{subsubsection.4.3.5}
\contentsline {subsubsection}{\numberline {4.3.6}Code Reviews}{12}{subsubsection.4.3.6}
\contentsline {subsubsection}{\numberline {4.3.7}Releases}{12}{subsubsection.4.3.7}
\contentsline {subsubsection}{\numberline {4.3.8}Backups}{13}{subsubsection.4.3.8}
\contentsline {subsection}{\numberline {4.4}Testing and Validation}{13}{subsection.4.4}
\contentsline {subsubsection}{\numberline {4.4.1}Unit Tests}{14}{subsubsection.4.4.1}
\contentsline {paragraph}{Writing Unit Tests}{14}{section*.2}
\contentsline {paragraph}{Analyzing unit test results }{16}{section*.3}
\contentsline {paragraph}{Disabling unit tests }{16}{section*.4}
\contentsline {paragraph}{Benchmarking Unit Tests}{17}{section*.5}
\contentsline {subsubsection}{\numberline {4.4.2}Examples}{18}{subsubsection.4.4.2}
\contentsline {paragraph}{Disabling examples}{19}{section*.6}
\contentsline {subsubsection}{\numberline {4.4.3}System Tests}{19}{subsubsection.4.4.3}
\contentsline {paragraph}{Writing System Tests}{20}{section*.7}
\contentsline {paragraph}{Disabling system tests}{20}{section*.8}
\contentsline {subsubsection}{\numberline {4.4.4}Test Harness}{20}{subsubsection.4.4.4}
\contentsline {paragraph}{Analyzing Test Harness results }{21}{section*.9}
\contentsline {subsubsection}{\numberline {4.4.5}Use Test Cases (UTCs)}{21}{subsubsection.4.4.5}
\contentsline {subsubsection}{\numberline {4.4.6}MAPL Testing}{21}{subsubsection.4.4.6}
\contentsline {subsubsection}{\numberline {4.4.7}Beta Testing}{22}{subsubsection.4.4.7}
\contentsline {subsubsection}{\numberline {4.4.8}Automated Regression Tests}{22}{subsubsection.4.4.8}
\contentsline {subsubsection}{\numberline {4.4.9}Investigating Test Failures}{22}{subsubsection.4.4.9}
\contentsline {subsubsection}{\numberline {4.4.10}Building the Documentation}{23}{subsubsection.4.4.10}
\contentsline {subsubsection}{\numberline {4.4.11}Testing for Releases}{24}{subsubsection.4.4.11}
\contentsline {subsection}{\numberline {4.5}User Support}{24}{subsection.4.5}
\contentsline {subsubsection}{\numberline {4.5.1}Roles}{24}{subsubsection.4.5.1}
\contentsline {subsubsection}{\numberline {4.5.2}Support Categories}{24}{subsubsection.4.5.2}
\contentsline {subsubsection}{\numberline {4.5.3}Summary Work Flow}{24}{subsubsection.4.5.3}
\contentsline {subsubsection}{\numberline {4.5.4}General Guidelines for Handling Tickets}{25}{subsubsection.4.5.4}
\contentsline {subsubsection}{\numberline {4.5.5}esmf\_support@ucar.edu Mail Archives}{25}{subsubsection.4.5.5}
\contentsline {subsubsection}{\numberline {4.5.6}INFO:Code (subject) mail messages}{26}{subsubsection.4.5.6}
\contentsline {subsubsection}{\numberline {4.5.7}freeCRM}{26}{subsubsection.4.5.7}
\contentsline {subsubsection}{\numberline {4.5.8}Annual Code Contact}{27}{subsubsection.4.5.8}
\contentsline {subsubsection}{\numberline {4.5.9}Dealing with Applications that use ESMF}{27}{subsubsection.4.5.9}
\contentsline {section}{\numberline {5}Apps}{28}{section.5}
\contentsline {section}{\numberline {6}Test Harness}{28}{section.6}
\contentsline {subsection}{\numberline {6.1}Specifying Test Harness Tests}{28}{subsection.6.1}
\contentsline {subsection}{\numberline {6.2}Running Test Harness Tests as Part of Unit Tests}{29}{subsection.6.2}
\contentsline {subsection}{\numberline {6.3}Invoking a Single Test Harness Test Case Using gmake}{29}{subsection.6.3}
\contentsline {subsection}{\numberline {6.4}Invoking a Single Test Harness Test Case from the Command Line}{30}{subsection.6.4}
\contentsline {subsection}{\numberline {6.5}Top Level Configuration File}{30}{subsection.6.5}
\contentsline {subsubsection}{\numberline {6.5.1}Problem descriptor file}{31}{subsubsection.6.5.1}
\contentsline {subsubsection}{\numberline {6.5.2}Problem descriptor string syntax}{32}{subsubsection.6.5.2}
\contentsline {paragraph}{Grid syntax}{32}{section*.10}
\contentsline {paragraph}{Distribution syntax}{33}{section*.11}
\contentsline {paragraph}{Transformation method}{34}{section*.12}
\contentsline {paragraph}{Staggering syntax (Not currently implemented)}{34}{section*.13}
\contentsline {subsubsection}{\numberline {6.5.3}General Data Structures}{35}{subsubsection.6.5.3}
\contentsline {subsubsection}{\numberline {6.5.4}Specifier files}{35}{subsubsection.6.5.4}
\contentsline {subsubsection}{\numberline {6.5.5}Grid Specification}{36}{subsubsection.6.5.5}
\contentsline {paragraph}{Curvilinear Grid Coordinate Generation (For Future Implementation)}{36}{section*.14}
\contentsline {paragraph}{Specifier file syntax for redistribution}{38}{section*.15}
\contentsline {paragraph}{Specifier file syntax for regridding}{39}{section*.16}
\contentsline {subsubsection}{\numberline {6.5.6}Distribution Specification}{41}{subsubsection.6.5.6}
\contentsline {subsubsection}{\numberline {6.5.7}Class Specification}{42}{subsubsection.6.5.7}
\contentsline {subsection}{\numberline {6.6}Reporting test results}{43}{subsection.6.6}
\contentsline {section}{\numberline {7}Conventions}{43}{section.7}
\contentsline {subsection}{\numberline {7.1}Docs: Code and Documentation Templates and Associated Scripts}{44}{subsection.7.1}
\contentsline {subsubsection}{\numberline {7.1.1}Documentation Generation Script}{44}{subsubsection.7.1.1}
\contentsline {subsubsection}{\numberline {7.1.2}Code Generation Scripts}{44}{subsubsection.7.1.2}
\contentsline {subsection}{\numberline {7.2}Docs: Documentation Guidelines and Conventions}{44}{subsection.7.2}
\contentsline {subsubsection}{\numberline {7.2.1}Accessibility}{44}{subsubsection.7.2.1}
\contentsline {subsubsection}{\numberline {7.2.2}File format}{44}{subsubsection.7.2.2}
\contentsline {subsubsection}{\numberline {7.2.3}Typeface and Diagram Conventions}{45}{subsubsection.7.2.3}
\contentsline {subsubsection}{\numberline {7.2.4}Style Rules for \LaTeX }{45}{subsubsection.7.2.4}
\contentsline {subsection}{\numberline {7.3}Docs: Performance Report Conventions}{45}{subsection.7.3}
\contentsline {subsection}{\numberline {7.4}Docs: Reference Manual Conventions}{46}{subsection.7.4}
\contentsline {subsubsection}{\numberline {7.4.1}Description, Use and Examples, and Other Introductory Sections}{46}{subsubsection.7.4.1}
\contentsline {subsubsection}{\numberline {7.4.2}Examples Sections}{46}{subsubsection.7.4.2}
\contentsline {subsubsection}{\numberline {7.4.3}Flags and Options Sections}{46}{subsubsection.7.4.3}
\contentsline {subsubsection}{\numberline {7.4.4}Class API Sections}{46}{subsubsection.7.4.4}
\contentsline {subsection}{\numberline {7.5}Code: Method Conventions}{47}{subsection.7.5}
\contentsline {subsubsection}{\numberline {7.5.1}Standard Method Names}{47}{subsubsection.7.5.1}
\contentsline {subsubsection}{\numberline {7.5.2}Use of *Set and *Get}{48}{subsubsection.7.5.2}
\contentsline {subsubsection}{\numberline {7.5.3}Use of Is* and Has*}{48}{subsubsection.7.5.3}
\contentsline {subsubsection}{\numberline {7.5.4}Functions vs. Subroutines}{48}{subsubsection.7.5.4}
\contentsline {subsubsection}{\numberline {7.5.5}Source and Destination Ordering}{48}{subsubsection.7.5.5}
\contentsline {subsection}{\numberline {7.6}Code: Argument Conventions}{48}{subsection.7.6}
\contentsline {subsubsection}{\numberline {7.6.1}Standard Variable Names}{48}{subsubsection.7.6.1}
\contentsline {subsubsection}{\numberline {7.6.2}Use of Is* and Has*}{49}{subsubsection.7.6.2}
\contentsline {subsubsection}{\numberline {7.6.3}Variable Capitalization}{49}{subsubsection.7.6.3}
\contentsline {subsubsection}{\numberline {7.6.4}Variables Associated with Options}{49}{subsubsection.7.6.4}
\contentsline {subsubsection}{\numberline {7.6.5}Variables Having Logical Data Type}{49}{subsubsection.7.6.5}
\contentsline {subsubsection}{\numberline {7.6.6}Arguments which are Arrays}{49}{subsubsection.7.6.6}
\contentsline {subsubsection}{\numberline {7.6.7}Arguments which are Pointers}{49}{subsubsection.7.6.7}
\contentsline {subsection}{\numberline {7.7}Code: File Rules}{49}{subsection.7.7}
\contentsline {subsubsection}{\numberline {7.7.1}Version Identification}{49}{subsubsection.7.7.1}
\contentsline {subsubsection}{\numberline {7.7.2}License and Copyright Information}{50}{subsubsection.7.7.2}
\contentsline {subsubsection}{\numberline {7.7.3}TODO: Reminder}{50}{subsubsection.7.7.3}
\contentsline {subsubsection}{\numberline {7.7.4}FILENAME Macros}{50}{subsubsection.7.7.4}
\contentsline {subsection}{\numberline {7.8}Code: Style Rules for Source Code}{50}{subsection.7.8}
\contentsline {subsection}{\numberline {7.9}Code: Error Handling Conventions}{51}{subsection.7.9}
\contentsline {subsubsection}{\numberline {7.9.1}Objectives}{51}{subsubsection.7.9.1}
\contentsline {subsubsection}{\numberline {7.9.2}Approach}{51}{subsubsection.7.9.2}
\contentsline {subsubsection}{\numberline {7.9.3}Error Masking}{52}{subsubsection.7.9.3}
\contentsline {subsubsection}{\numberline {7.9.4}Example (pre-review method)}{52}{subsubsection.7.9.4}
\contentsline {subsubsection}{\numberline {7.9.5}Example (post-review method)}{53}{subsubsection.7.9.5}
\contentsline {subsubsection}{\numberline {7.9.6}Memory Allocation Checking}{54}{subsubsection.7.9.6}
\contentsline {subsection}{\numberline {7.10}Initialization Standardization Instructions}{55}{subsection.7.10}
\contentsline {subsubsection}{\numberline {7.10.1}Overview}{55}{subsubsection.7.10.1}
\contentsline {subsubsection}{\numberline {7.10.2}Instructions}{56}{subsubsection.7.10.2}
\contentsline {subsubsection}{\numberline {7.10.3}Module}{56}{subsubsection.7.10.3}
\contentsline {subsubsection}{\numberline {7.10.4}Shallow Class}{56}{subsubsection.7.10.4}
\contentsline {subsubsection}{\numberline {7.10.5}Deep Class}{60}{subsubsection.7.10.5}
\contentsline {subsubsection}{\numberline {7.10.6}Parameter Class}{63}{subsubsection.7.10.6}
\contentsline {subsubsection}{\numberline {7.10.7}Subroutine}{63}{subsubsection.7.10.7}
\contentsline {subsubsection}{\numberline {7.10.8}ESMF Class Types}{64}{subsubsection.7.10.8}
\contentsline {subsection}{\numberline {7.11}Code: Data Type Consistency Guidelines}{64}{subsection.7.11}
\contentsline {subsubsection}{\numberline {7.11.1}Use ESMF names for data types in C and ESMF data kinds in Fortran}{65}{subsubsection.7.11.1}
\contentsline {subsubsection}{\numberline {7.11.2}Fortran}{65}{subsubsection.7.11.2}
\contentsline {subsubsection}{\numberline {7.11.3}C and C++}{67}{subsubsection.7.11.3}
\contentsline {subsubsection}{\numberline {7.11.4}ESMF\_TypeKind\_Flag ``labels'': When knowing the data type/kind is necessary}{68}{subsubsection.7.11.4}
\contentsline {subsubsection}{\numberline {7.11.5}Guidelines for Fortran-C Interfaces}{69}{subsubsection.7.11.5}
\contentsline {subsection}{\numberline {7.12}Code: Optional Argument Conventions for the C/C++ API}{70}{subsection.7.12}
\contentsline {subsubsection}{\numberline {7.12.1}Overview}{70}{subsubsection.7.12.1}
\contentsline {subsubsection}{\numberline {7.12.2}Approach}{71}{subsubsection.7.12.2}
\contentsline {subsubsection}{\numberline {7.12.3}Internal Macros for Processing the Optional Argument List}{72}{subsubsection.7.12.3}
\contentsline {subsubsection}{\numberline {7.12.4}Parsing the Optional Argument List}{73}{subsubsection.7.12.4}
\contentsline {subsection}{\numberline {7.13}Code: Makefile Conventions}{75}{subsection.7.13}
\contentsline {subsubsection}{\numberline {7.13.1}Code Building Rules}{75}{subsubsection.7.13.1}
\contentsline {subsubsection}{\numberline {7.13.2}Document Building Rules}{75}{subsubsection.7.13.2}
\contentsline {subsubsection}{\numberline {7.13.3}Include Files}{76}{subsubsection.7.13.3}
\contentsline {subsection}{\numberline {7.14}Preprocessor Usage}{76}{subsection.7.14}
\contentsline {subsubsection}{\numberline {7.14.1}Using the Preprocessor For Generic Fortran Code}{76}{subsubsection.7.14.1}
\contentsline {subsubsection}{\numberline {7.14.2}System Dependent Strategy Using Preprocessor}{78}{subsubsection.7.14.2}
\contentsline {subsection}{\numberline {7.15}ESMF Data Type Autopromotion Support Policy and Guide}{78}{subsection.7.15}
\contentsline {subsubsection}{\numberline {7.15.1}How We Arrived at This Autopromotion Support Policy}{80}{subsubsection.7.15.1}
\contentsline {subsection}{\numberline {7.16}Scripts: Script Coding Standard}{82}{subsection.7.16}
\contentsline {subsubsection}{\numberline {7.16.1}Content Rules}{82}{subsubsection.7.16.1}
\contentsline {subsection}{\numberline {7.17}Lang: Interlanguage Coding Conventions}{82}{subsection.7.17}
\contentsline {subsubsection}{\numberline {7.17.1}Optional Arguments Across Language Interfaces}{82}{subsubsection.7.17.1}
\contentsline {subsection}{\numberline {7.18}Lang: Fortran Coding Standard}{83}{subsection.7.18}
\contentsline {subsubsection}{\numberline {7.18.1}Content Rules}{83}{subsubsection.7.18.1}
\contentsline {subsubsection}{\numberline {7.18.2}Style Rules}{86}{subsubsection.7.18.2}
\contentsline {subsection}{\numberline {7.19}Lang: C/C++ Coding Standard}{87}{subsection.7.19}
\contentsline {subsection}{\numberline {7.20}Repo: Source Code Naming and Tagging Conventions}{88}{subsection.7.20}
\contentsline {subsubsection}{\numberline {7.20.1}Public Releases}{88}{subsubsection.7.20.1}
\contentsline {subsubsection}{\numberline {7.20.2}Internal Releases}{88}{subsubsection.7.20.2}
\contentsline {subsection}{\numberline {7.21}Data Management Conventions}{89}{subsection.7.21}
\contentsline {section}{\numberline {8}Tracking and Metrics}{89}{section.8}
\contentsline {subsection}{\numberline {8.1}Release Schedule}{89}{subsection.8.1}
\contentsline {subsection}{\numberline {8.2}Task List}{89}{subsection.8.2}
\contentsline {subsection}{\numberline {8.3}Trackers}{89}{subsection.8.3}
\contentsline {subsubsection}{\numberline {8.3.1}Setting Ticket Priorities}{89}{subsubsection.8.3.1}
\contentsline {subsubsection}{\numberline {8.3.2}Labeling Tickets Longer than 2 Weeks}{89}{subsubsection.8.3.2}
\contentsline {subsubsection}{\numberline {8.3.3}Estimating Ticket Completion Time}{90}{subsubsection.8.3.3}
\contentsline {subsubsection}{\numberline {8.3.4}Labeling Tickets with Time Estimates}{90}{subsubsection.8.3.4}
\contentsline {subsubsection}{\numberline {8.3.5}Cross-Referencing the Task List and Trackers}{90}{subsubsection.8.3.5}
\contentsline {subsubsection}{\numberline {8.3.6}Summary}{90}{subsubsection.8.3.6}
\contentsline {subsubsection}{\numberline {8.3.7}Types of Trackers}{91}{subsubsection.8.3.7}
\contentsline {subsection}{\numberline {8.4}Metrics}{91}{subsection.8.4}
\contentsline {subsubsection}{\numberline {8.4.1}Unit and System Tests Coverage}{91}{subsubsection.8.4.1}
\contentsline {subsubsection}{\numberline {8.4.2}ESMF Requirements Coverage}{91}{subsubsection.8.4.2}
\contentsline {subsubsection}{\numberline {8.4.3}Source Lines of Code, SLOC}{92}{subsubsection.8.4.3}
\contentsline {section}{\numberline {9}Policies}{92}{section.9}
\contentsline {subsection}{\numberline {9.1}External Software Libraries}{92}{subsection.9.1}
\contentsline {subsection}{\numberline {9.2}Graphics Packages}{92}{subsection.9.2}
\contentsline {section}{Appendix A: Testing Terminology}{93}{section*.17}
\contentsline {section}{Bibliography}{94}{section*.18}
