<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Los Alamos Sea Ice (CICE) NUOPC Cap: cice_cap_mod Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Los Alamos Sea Ice (CICE) NUOPC Cap
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Types</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="modulecice__cap__mod-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">cice_cap_mod Module Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Types</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">type &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcice__cap__mod_1_1cice__internalstate__type.html">cice_internalstate_type</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">type &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcice__cap__mod_1_1cice__internalstate__wrapper.html">cice_internalstate_wrapper</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">type &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcice__cap__mod_1_1fld__list__type.html">fld_list_type</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0ef73f0437186be84793933d87d9b7ab"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#a0ef73f0437186be84793933d87d9b7ab">setservices</a> (gcomp, rc)</td></tr>
<tr class="memdesc:a0ef73f0437186be84793933d87d9b7ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">NUOPC SetService method is the only public entry point. SetServices registers all of the user-provided subroutines in the module with the NUOPC layer.  <a href="#a0ef73f0437186be84793933d87d9b7ab">More...</a><br/></td></tr>
<tr class="separator:a0ef73f0437186be84793933d87d9b7ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a6fff367383a101a74328ed28fb81af3f"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#a6fff367383a101a74328ed28fb81af3f">initializep0</a> (gcomp, importState, exportState, clock, rc)</td></tr>
<tr class="memdesc:a6fff367383a101a74328ed28fb81af3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">First initialize subroutine called by NUOPC. The purpose is to set which version of the Initialize Phase Definition (IPD) to use.  <a href="#a6fff367383a101a74328ed28fb81af3f">More...</a><br/></td></tr>
<tr class="separator:a6fff367383a101a74328ed28fb81af3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c072e6d9f3654ce41995de85aa02692"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#a6c072e6d9f3654ce41995de85aa02692">initializeadvertise</a> (gcomp, importState, exportState, clock, rc)</td></tr>
<tr class="memdesc:a6c072e6d9f3654ce41995de85aa02692"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by NUOPC to advertise import and export fields. "Advertise" simply means that the standard names of all import and export fields are supplied. The NUOPC layer uses these to match fields between components in the coupled system.  <a href="#a6c072e6d9f3654ce41995de85aa02692">More...</a><br/></td></tr>
<tr class="separator:a6c072e6d9f3654ce41995de85aa02692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a420af7f5b5ce7bc7a11b236b08438511"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#a420af7f5b5ce7bc7a11b236b08438511">initializerealize</a> (gcomp, importState, exportState, clock, rc)</td></tr>
<tr class="memdesc:a420af7f5b5ce7bc7a11b236b08438511"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by NUOPC to realize import and export fields. "Realizing" a field means that its grid has been defined and an ESMF_Field object has been created and put into the import or export State.  <a href="#a420af7f5b5ce7bc7a11b236b08438511">More...</a><br/></td></tr>
<tr class="separator:a420af7f5b5ce7bc7a11b236b08438511"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b1e7ea19e7649242ed2cac31ba1e2fb"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#a3b1e7ea19e7649242ed2cac31ba1e2fb">setclock</a> (gcomp, rc)</td></tr>
<tr class="memdesc:a3b1e7ea19e7649242ed2cac31ba1e2fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">NUOPC specialization point to set up this cap's clock.  <a href="#a3b1e7ea19e7649242ed2cac31ba1e2fb">More...</a><br/></td></tr>
<tr class="separator:a3b1e7ea19e7649242ed2cac31ba1e2fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba2a6b8bb1abbb72a532fd052dd72744"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#aba2a6b8bb1abbb72a532fd052dd72744">modeladvance_slow</a> (gcomp, rc)</td></tr>
<tr class="memdesc:aba2a6b8bb1abbb72a532fd052dd72744"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by NUOPC to advance the CICE model a single timestep.  <a href="#aba2a6b8bb1abbb72a532fd052dd72744">More...</a><br/></td></tr>
<tr class="separator:aba2a6b8bb1abbb72a532fd052dd72744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13ed49c66663b20170eb3da81fb23c39"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#a13ed49c66663b20170eb3da81fb23c39">cice_model_finalize</a> (gcomp, rc)</td></tr>
<tr class="memdesc:a13ed49c66663b20170eb3da81fb23c39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by NUOPC at the end of the run to clean up. The cap does this simply by calling CICE_Finalize.  <a href="#a13ed49c66663b20170eb3da81fb23c39">More...</a><br/></td></tr>
<tr class="separator:a13ed49c66663b20170eb3da81fb23c39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fdbb0e68ce0dc926b23e49ce7238018"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#a1fdbb0e68ce0dc926b23e49ce7238018">cice_advertisefields</a> (state, nfields, field_defs, rc)</td></tr>
<tr class="memdesc:a1fdbb0e68ce0dc926b23e49ce7238018"><td class="mdescLeft">&#160;</td><td class="mdescRight">Advertises a set of fields in an ESMF_State object by calling NUOPC_Advertise in a loop.  <a href="#a1fdbb0e68ce0dc926b23e49ce7238018">More...</a><br/></td></tr>
<tr class="separator:a1fdbb0e68ce0dc926b23e49ce7238018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eba19a660183afd4fb477b0b7a6b5e9"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#a3eba19a660183afd4fb477b0b7a6b5e9">cice_realizefields</a> (state, grid, nfields, field_defs, tag, rc)</td></tr>
<tr class="memdesc:a3eba19a660183afd4fb477b0b7a6b5e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a set of fields to an ESMF_State object. Each field is wrapped in an ESMF_Field object. Memory is either allocated by ESMF or an existing CICE pointer is referenced.  <a href="#a3eba19a660183afd4fb477b0b7a6b5e9">More...</a><br/></td></tr>
<tr class="separator:a3eba19a660183afd4fb477b0b7a6b5e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67930500de9542ade336e5876c448d2d"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#a67930500de9542ade336e5876c448d2d">state_diagnose</a> (State, string, rc)</td></tr>
<tr class="separator:a67930500de9542ade336e5876c448d2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a025ec51a97ecbb5489911bb598068c58"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#a025ec51a97ecbb5489911bb598068c58">state_reset</a> (State, value, rc)</td></tr>
<tr class="separator:a025ec51a97ecbb5489911bb598068c58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acef22d55d85a3d586d69818a3040131f"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#acef22d55d85a3d586d69818a3040131f">state_getfldptr</a> (ST, fldname, fldptr, rc)</td></tr>
<tr class="memdesc:acef22d55d85a3d586d69818a3040131f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a pointer to a field's data array from inside an ESMF_State object.  <a href="#acef22d55d85a3d586d69818a3040131f">More...</a><br/></td></tr>
<tr class="separator:acef22d55d85a3d586d69818a3040131f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2215e1a89bb3fdf8a120e9a2f9ad30b"><td class="memItemLeft" align="right" valign="top">logical function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#ab2215e1a89bb3fdf8a120e9a2f9ad30b">fieldbundle_fldchk</a> (FB, fldname, rc)</td></tr>
<tr class="separator:ab2215e1a89bb3fdf8a120e9a2f9ad30b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9f1431b313eedde1033da41b0367596"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#ac9f1431b313eedde1033da41b0367596">fieldbundle_getfldptr</a> (FB, fldname, fldptr, rc)</td></tr>
<tr class="separator:ac9f1431b313eedde1033da41b0367596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a019a648af42fd431a188246c89cd7dea"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#a019a648af42fd431a188246c89cd7dea">cice_fieldssetup</a></td></tr>
<tr class="separator:a019a648af42fd431a188246c89cd7dea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bc34f22457c3d0e17d19bd2db8009c5"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#a7bc34f22457c3d0e17d19bd2db8009c5">fld_list_add</a> (num, fldlist, stdname, transferOffer, data, shortname)</td></tr>
<tr class="separator:a7bc34f22457c3d0e17d19bd2db8009c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2985ec8ef81733467d05b6973068584"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#ae2985ec8ef81733467d05b6973068584">dumpciceinternal</a> (grid, slice, stdname, nop, farray)</td></tr>
<tr class="memdesc:ae2985ec8ef81733467d05b6973068584"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes out a diagnostic file containing field data named field_ice_internal_&lt;fldname&gt;.nc.  <a href="#ae2985ec8ef81733467d05b6973068584">More...</a><br/></td></tr>
<tr class="separator:ae2985ec8ef81733467d05b6973068584"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a0b81ab20054f936aa447bd558b14938b"><td class="memItemLeft" align="right" valign="top">integer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#a0b81ab20054f936aa447bd558b14938b">import_slice</a> = 0</td></tr>
<tr class="separator:a0b81ab20054f936aa447bd558b14938b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76f3836f0c3ffc10b985510be93132b8"><td class="memItemLeft" align="right" valign="top">integer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#a76f3836f0c3ffc10b985510be93132b8">export_slice</a> = 0</td></tr>
<tr class="separator:a76f3836f0c3ffc10b985510be93132b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a286ecfe0c7e4371dd688e4e810c98210"><td class="memItemLeft" align="right" valign="top">integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#a286ecfe0c7e4371dd688e4e810c98210">fldsmax</a> = 100</td></tr>
<tr class="separator:a286ecfe0c7e4371dd688e4e810c98210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab175b4d57c7a23cbe669297b6b96c031"><td class="memItemLeft" align="right" valign="top">integer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#ab175b4d57c7a23cbe669297b6b96c031">fldstoice_num</a> = 0</td></tr>
<tr class="separator:ab175b4d57c7a23cbe669297b6b96c031"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63f0cb6459b6b5dcfefa66179b953692"><td class="memItemLeft" align="right" valign="top">type(<a class="el" href="structcice__cap__mod_1_1fld__list__type.html">fld_list_type</a>), dimension(<a class="el" href="classcice__cap__mod.html#a286ecfe0c7e4371dd688e4e810c98210">fldsmax</a>)&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#a63f0cb6459b6b5dcfefa66179b953692">fldstoice</a></td></tr>
<tr class="separator:a63f0cb6459b6b5dcfefa66179b953692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a952f7ad9a51d83e31c6a897e5b56742a"><td class="memItemLeft" align="right" valign="top">integer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#a952f7ad9a51d83e31c6a897e5b56742a">fldsfrice_num</a> = 0</td></tr>
<tr class="separator:a952f7ad9a51d83e31c6a897e5b56742a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3342fe15f647824d2268bd000e1689fb"><td class="memItemLeft" align="right" valign="top">type(<a class="el" href="structcice__cap__mod_1_1fld__list__type.html">fld_list_type</a>), dimension(<a class="el" href="classcice__cap__mod.html#a286ecfe0c7e4371dd688e4e810c98210">fldsmax</a>)&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#a3342fe15f647824d2268bd000e1689fb">fldsfrice</a></td></tr>
<tr class="separator:a3342fe15f647824d2268bd000e1689fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac986baa8c170f85b260e4d293df1cb48"><td class="memItemLeft" align="right" valign="top">integer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#ac986baa8c170f85b260e4d293df1cb48">lsize</a></td></tr>
<tr class="separator:ac986baa8c170f85b260e4d293df1cb48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ac2006438fe73083878fef9273b391a"><td class="memItemLeft" align="right" valign="top">character(len=256)&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#a6ac2006438fe73083878fef9273b391a">tmpstr</a></td></tr>
<tr class="separator:a6ac2006438fe73083878fef9273b391a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2aa226ea89c7601287e776c0e92684f"><td class="memItemLeft" align="right" valign="top">character(len=2048)&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#ad2aa226ea89c7601287e776c0e92684f">info</a></td></tr>
<tr class="separator:ad2aa226ea89c7601287e776c0e92684f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21279c390cacf1686ab4acaf555643a2"><td class="memItemLeft" align="right" valign="top">logical&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#a21279c390cacf1686ab4acaf555643a2">ispresent</a></td></tr>
<tr class="separator:a21279c390cacf1686ab4acaf555643a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15ca6d0369e786f029e01e7895ca0b3a"><td class="memItemLeft" align="right" valign="top">integer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#a15ca6d0369e786f029e01e7895ca0b3a">dbrc</a></td></tr>
<tr class="separator:a15ca6d0369e786f029e01e7895ca0b3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19407a5ea2f04ccef0907b4aee2d5ae0"><td class="memItemLeft" align="right" valign="top">type(esmf_grid), save&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#a19407a5ea2f04ccef0907b4aee2d5ae0">ice_grid_i</a></td></tr>
<tr class="separator:a19407a5ea2f04ccef0907b4aee2d5ae0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab05365e4b85860e661678d79118dcf00"><td class="memItemLeft" align="right" valign="top">logical&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#ab05365e4b85860e661678d79118dcf00">write_diagnostics</a> = .true.</td></tr>
<tr class="separator:ab05365e4b85860e661678d79118dcf00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b12e1eccd73512ad0c116ac29043f31"><td class="memItemLeft" align="right" valign="top">logical&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcice__cap__mod.html#a4b12e1eccd73512ad0c116ac29043f31">profile_memory</a> = .true.</td></tr>
<tr class="separator:a4b12e1eccd73512ad0c116ac29043f31"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function/Subroutine Documentation</h2>
<a class="anchor" id="a1fdbb0e68ce0dc926b23e49ce7238018"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine cice_cap_mod::cice_advertisefields </td>
          <td>(</td>
          <td class="paramtype">type(esmf_state), intent(inout)&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nfields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structcice__cap__mod_1_1fld__list__type.html">fld_list_type</a>), dimension(:), intent(inout)&#160;</td>
          <td class="paramname"><em>field_defs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(inout)&#160;</td>
          <td class="paramname"><em>rc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Advertises a set of fields in an ESMF_State object by calling NUOPC_Advertise in a loop. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>the ESMF_State object in which to advertise the fields </td></tr>
    <tr><td class="paramname">nfields</td><td>number of fields </td></tr>
    <tr><td class="paramname">field_defs</td><td>an array of <a class="el" href="structcice__cap__mod_1_1fld__list__type.html">fld_list_type</a> listing the fields to advertise </td></tr>
    <tr><td class="paramname">rc</td><td>return code </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a019a648af42fd431a188246c89cd7dea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine cice_cap_mod::cice_fieldssetup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a13ed49c66663b20170eb3da81fb23c39"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine cice_cap_mod::cice_model_finalize </td>
          <td>(</td>
          <td class="paramtype">type(esmf_gridcomp)&#160;</td>
          <td class="paramname"><em>gcomp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>rc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by NUOPC at the end of the run to clean up. The cap does this simply by calling CICE_Finalize. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gcomp</td><td>the ESMF_GridComp object </td></tr>
    <tr><td class="paramname">rc</td><td>return code </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3eba19a660183afd4fb477b0b7a6b5e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine cice_cap_mod::cice_realizefields </td>
          <td>(</td>
          <td class="paramtype">type(esmf_state), intent(inout)&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(esmf_grid), intent(in)&#160;</td>
          <td class="paramname"><em>grid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nfields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structcice__cap__mod_1_1fld__list__type.html">fld_list_type</a>), dimension(:), intent(inout)&#160;</td>
          <td class="paramname"><em>field_defs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(inout)&#160;</td>
          <td class="paramname"><em>rc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a set of fields to an ESMF_State object. Each field is wrapped in an ESMF_Field object. Memory is either allocated by ESMF or an existing CICE pointer is referenced. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>the ESMF_State object to add fields to </td></tr>
    <tr><td class="paramname">grid</td><td>the ESMF_Grid object on which to define the fields </td></tr>
    <tr><td class="paramname">nfields</td><td>number of fields </td></tr>
    <tr><td class="paramname">field_defs</td><td>array of <a class="el" href="structcice__cap__mod_1_1fld__list__type.html">fld_list_type</a> indicating the fields to add </td></tr>
    <tr><td class="paramname">tag</td><td>used to output to the log </td></tr>
    <tr><td class="paramname">rc</td><td>return code </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae2985ec8ef81733467d05b6973068584"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine cice_cap_mod::dumpciceinternal </td>
          <td>(</td>
          <td class="paramtype">type(esmf_grid)&#160;</td>
          <td class="paramname"><em>grid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>slice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*)&#160;</td>
          <td class="paramname"><em>stdname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*)&#160;</td>
          <td class="paramname"><em>nop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(esmf_kind_r8), dimension(:,:,:), target&#160;</td>
          <td class="paramname"><em>farray</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes out a diagnostic file containing field data named field_ice_internal_&lt;fldname&gt;.nc. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">grid</td><td>the ESMF_Grid on describing the field's grid </td></tr>
    <tr><td class="paramname">slice</td><td>time spice number </td></tr>
    <tr><td class="paramname">stdname</td><td>standard name of the field </td></tr>
    <tr><td class="paramname">nop</td><td>ignored for now </td></tr>
    <tr><td class="paramname">farray</td><td>array of data to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab2215e1a89bb3fdf8a120e9a2f9ad30b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">logical function cice_cap_mod::fieldbundle_fldchk </td>
          <td>(</td>
          <td class="paramtype">type(esmf_fieldbundle), intent(in)&#160;</td>
          <td class="paramname"><em>FB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>fldname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out), optional&#160;</td>
          <td class="paramname"><em>rc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac9f1431b313eedde1033da41b0367596"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine cice_cap_mod::fieldbundle_getfldptr </td>
          <td>(</td>
          <td class="paramtype">type(esmf_fieldbundle), intent(in)&#160;</td>
          <td class="paramname"><em>FB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>fldname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(esmf_kind_r8), dimension(:,:), intent(in), pointer&#160;</td>
          <td class="paramname"><em>fldptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out), optional&#160;</td>
          <td class="paramname"><em>rc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7bc34f22457c3d0e17d19bd2db8009c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine cice_cap_mod::fld_list_add </td>
          <td>(</td>
          <td class="paramtype">integer, intent(inout)&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structcice__cap__mod_1_1fld__list__type.html">fld_list_type</a>), dimension(:), intent(inout)&#160;</td>
          <td class="paramname"><em>fldlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>stdname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>transferOffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(esmf_kind_r8), dimension(:,:,:), optional, target&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in), optional&#160;</td>
          <td class="paramname"><em>shortname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6c072e6d9f3654ce41995de85aa02692"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine cice_cap_mod::initializeadvertise </td>
          <td>(</td>
          <td class="paramtype">type(esmf_gridcomp)&#160;</td>
          <td class="paramname"><em>gcomp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(esmf_state)&#160;</td>
          <td class="paramname"><em>importState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(esmf_state)&#160;</td>
          <td class="paramname"><em>exportState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(esmf_clock)&#160;</td>
          <td class="paramname"><em>clock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>rc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by NUOPC to advertise import and export fields. "Advertise" simply means that the standard names of all import and export fields are supplied. The NUOPC layer uses these to match fields between components in the coupled system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gcomp</td><td>an ESMF_GridComp object </td></tr>
    <tr><td class="paramname">importState</td><td>an ESMF_State object for import fields </td></tr>
    <tr><td class="paramname">exportState</td><td>an ESMF_State object for export fields </td></tr>
    <tr><td class="paramname">clock</td><td>an ESMF_Clock object </td></tr>
    <tr><td class="paramname">rc</td><td>return code </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6fff367383a101a74328ed28fb81af3f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine cice_cap_mod::initializep0 </td>
          <td>(</td>
          <td class="paramtype">type(esmf_gridcomp)&#160;</td>
          <td class="paramname"><em>gcomp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(esmf_state)&#160;</td>
          <td class="paramname"><em>importState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(esmf_state)&#160;</td>
          <td class="paramname"><em>exportState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(esmf_clock)&#160;</td>
          <td class="paramname"><em>clock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>rc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>First initialize subroutine called by NUOPC. The purpose is to set which version of the Initialize Phase Definition (IPD) to use. </p>
<p>For this CICE cap, we are using IPDv01.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gcomp</td><td>an ESMF_GridComp object </td></tr>
    <tr><td class="paramname">importState</td><td>an ESMF_State object for import fields </td></tr>
    <tr><td class="paramname">exportState</td><td>an ESMF_State object for export fields </td></tr>
    <tr><td class="paramname">clock</td><td>an ESMF_Clock object </td></tr>
    <tr><td class="paramname">rc</td><td>return code </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a420af7f5b5ce7bc7a11b236b08438511"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine cice_cap_mod::initializerealize </td>
          <td>(</td>
          <td class="paramtype">type(esmf_gridcomp)&#160;</td>
          <td class="paramname"><em>gcomp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(esmf_state)&#160;</td>
          <td class="paramname"><em>importState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(esmf_state)&#160;</td>
          <td class="paramname"><em>exportState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(esmf_clock)&#160;</td>
          <td class="paramname"><em>clock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>rc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by NUOPC to realize import and export fields. "Realizing" a field means that its grid has been defined and an ESMF_Field object has been created and put into the import or export State. </p>
<p>CICE defines its own parallel decomposition in 2D blocks. The indices are stored in i_glob and j_glob. These are used to create an ESMF_DistGrid object using the deBlockList parameter. The ESMF_DistGrid is set up with a periodic boundary condition in the first (X) dimension and bipolar boundary condition at the top row. These are set using calls to ESMF_DistGridConnectionSet. Information about how the decomposition blocks are distributed among processors is determined by a call to ice_distributionGetBlockLoc().</p>
<p>Geographic coordinates are added to the ESMF_Grid object at center and corner stagger locations. CICE maintains these coordinates in radians in the TLON, TLAT, ULON, and ULAT arrays. They are converted to degrees before adding to the ESMF_Grid object. Cell areas are set based on the CICE tarea array and cell masks are set based on the hm array.</p>
<p>The fields to import and export are stored in the fldsToIce and fldsFrIce arrays, respectively. Each field entry includes the standard name, information about whether the field's grid will be provided by the cap, and optionally a pointer to the field's data array. Currently, all fields are defined on the same grid defined by the cap (so set to "will provide"). The fields are created by calling <a class="el" href="classcice__cap__mod.html#a3eba19a660183afd4fb477b0b7a6b5e9" title="Adds a set of fields to an ESMF_State object. Each field is wrapped in an ESMF_Field object...">cice_cap_mod::cice_realizefields</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gcomp</td><td>an ESMF_GridComp object </td></tr>
    <tr><td class="paramname">importState</td><td>an ESMF_State object for import fields </td></tr>
    <tr><td class="paramname">exportState</td><td>an ESMF_State object for export fields </td></tr>
    <tr><td class="paramname">clock</td><td>an ESMF_Clock object </td></tr>
    <tr><td class="paramname">rc</td><td>return code </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aba2a6b8bb1abbb72a532fd052dd72744"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine cice_cap_mod::modeladvance_slow </td>
          <td>(</td>
          <td class="paramtype">type(esmf_gridcomp)&#160;</td>
          <td class="paramname"><em>gcomp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>rc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by NUOPC to advance the CICE model a single timestep. </p>
<p>This subroutine copies field data out of the cap import state and into the model internal arrays. Then it calls CICE_Run to make a single timestep. Finally, it copies the updated arrays into the cap export state.</p>
<p>This routine also writes out a diagnostic file for each import and export field using NUOPC_FieldWrite. The files are named field_ice_import_&lt;fldname&gt;.nc and field_ice_export_&lt;fldname&gt;.nc, respectively. In this subroutine there are numerous calls to <a class="el" href="classcice__cap__mod.html#acef22d55d85a3d586d69818a3040131f" title="Retrieve a pointer to a field&#39;s data array from inside an ESMF_State object. ">cice_cap_mod::state_getfldptr</a> which is a convenience function to retrieve the data pointer from an ESMF_State object based on the field's name.</p>
<p>All incoming vectors from mediator are rotated counter clock wise onto local basis vector directions. All outgoing vectors to mediator are rotated clock wise onto regular lat-lon directions. Zonal and meridional sea surface slope fields are calculated from sea level input and rotated counter clock wise onto local basis vector directions. Internally LANL cice uses the zonal and meridional sea surface slope fields calculated here.</p>
<p>At the end of the subroutine, a series of calls is made to <a class="el" href="classcice__cap__mod.html#ae2985ec8ef81733467d05b6973068584" title="Writes out a diagnostic file containing field data named field_ice_internal_&lt;fldname&gt;.nc. ">cice_cap_mod::dumpciceinternal</a> which writes out a time slice of each CICE internal variable for diagnostic purposes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gcomp</td><td>an ESMF_GridComp object </td></tr>
    <tr><td class="paramname">rc</td><td>return code </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3b1e7ea19e7649242ed2cac31ba1e2fb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine cice_cap_mod::setclock </td>
          <td>(</td>
          <td class="paramtype">type(esmf_gridcomp)&#160;</td>
          <td class="paramname"><em>gcomp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>rc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>NUOPC specialization point to set up this cap's clock. </p>
<p>By default, the clock is a copy of the clock coming in from the NUOPC Driver. In this case we are pulling in the thermodynamic timestep from the CICE model (dt) an setting that as the "stability timestep." This ensures that if dt is smaller than the Driver's requested timestep length, it will use dt instead. In this case, subcycling is automatically handled by NUOPC, e.g., the CICE model will potentially be called multiple times until it reaches the coupling timestep requested by the Driver. </p>

</div>
</div>
<a class="anchor" id="a0ef73f0437186be84793933d87d9b7ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public cice_cap_mod::setservices </td>
          <td>(</td>
          <td class="paramtype">type(esmf_gridcomp)&#160;</td>
          <td class="paramname"><em>gcomp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>rc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>NUOPC SetService method is the only public entry point. SetServices registers all of the user-provided subroutines in the module with the NUOPC layer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gcomp</td><td>an ESMF_GridComp object </td></tr>
    <tr><td class="paramname">rc</td><td>return code </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a67930500de9542ade336e5876c448d2d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine cice_cap_mod::state_diagnose </td>
          <td>(</td>
          <td class="paramtype">type(esmf_state), intent(inout)&#160;</td>
          <td class="paramname"><em>State</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in), optional&#160;</td>
          <td class="paramname"><em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out), optional&#160;</td>
          <td class="paramname"><em>rc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="acef22d55d85a3d586d69818a3040131f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine cice_cap_mod::state_getfldptr </td>
          <td>(</td>
          <td class="paramtype">type(esmf_state), intent(in)&#160;</td>
          <td class="paramname"><em>ST</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>fldname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(esmf_kind_r8), dimension(:,:,:), intent(in), pointer&#160;</td>
          <td class="paramname"><em>fldptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out), optional&#160;</td>
          <td class="paramname"><em>rc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve a pointer to a field's data array from inside an ESMF_State object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ST</td><td>the ESMF_State object </td></tr>
    <tr><td class="paramname">fldname</td><td>name of the fields </td></tr>
    <tr><td class="paramname">fldptr</td><td>pointer to 3D array </td></tr>
    <tr><td class="paramname">rc</td><td>return code </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a025ec51a97ecbb5489911bb598068c58"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine cice_cap_mod::state_reset </td>
          <td>(</td>
          <td class="paramtype">type(esmf_state), intent(inout)&#160;</td>
          <td class="paramname"><em>State</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(esmf_kind_r8), intent(in), optional&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out), optional&#160;</td>
          <td class="paramname"><em>rc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a15ca6d0369e786f029e01e7895ca0b3a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">integer cice_cap_mod::dbrc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a76f3836f0c3ffc10b985510be93132b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">integer cice_cap_mod::export_slice = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3342fe15f647824d2268bd000e1689fb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">type (<a class="el" href="structcice__cap__mod_1_1fld__list__type.html">fld_list_type</a>), dimension(<a class="el" href="classcice__cap__mod.html#a286ecfe0c7e4371dd688e4e810c98210">fldsmax</a>) cice_cap_mod::fldsfrice</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a952f7ad9a51d83e31c6a897e5b56742a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">integer cice_cap_mod::fldsfrice_num = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a286ecfe0c7e4371dd688e4e810c98210"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">integer, parameter cice_cap_mod::fldsmax = 100</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a63f0cb6459b6b5dcfefa66179b953692"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">type (<a class="el" href="structcice__cap__mod_1_1fld__list__type.html">fld_list_type</a>), dimension(<a class="el" href="classcice__cap__mod.html#a286ecfe0c7e4371dd688e4e810c98210">fldsmax</a>) cice_cap_mod::fldstoice</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab175b4d57c7a23cbe669297b6b96c031"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">integer cice_cap_mod::fldstoice_num = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a19407a5ea2f04ccef0907b4aee2d5ae0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">type(esmf_grid), save cice_cap_mod::ice_grid_i</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0b81ab20054f936aa447bd558b14938b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">integer cice_cap_mod::import_slice = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad2aa226ea89c7601287e776c0e92684f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">character(len=2048) cice_cap_mod::info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a21279c390cacf1686ab4acaf555643a2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">logical cice_cap_mod::ispresent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac986baa8c170f85b260e4d293df1cb48"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">integer cice_cap_mod::lsize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4b12e1eccd73512ad0c116ac29043f31"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">logical cice_cap_mod::profile_memory = .true.</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6ac2006438fe73083878fef9273b391a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">character(len=256) cice_cap_mod::tmpstr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab05365e4b85860e661678d79118dcf00"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">logical cice_cap_mod::write_diagnostics = .true.</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this module was generated from the following file:<ul>
<li><a class="el" href="cice__cap_8F90.html">cice_cap.F90</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
