Return-Path: <esmftester@gmail.com>
Delivered-To: tablemesatest@gmail.com
Received: by 2002:a02:c005:0:0:0:0:0 with SMTP id y5csp11079928jai;
        Mon, 31 Dec 2018 11:12:21 -0800 (PST)
X-Received: by 2002:a02:1a0a:: with SMTP id 10mr24479314jai.50.1546283541591;
        Mon, 31 Dec 2018 11:12:21 -0800 (PST)
ARC-Seal: i=1; a=rsa-sha256; t=1546283541; cv=none;
        d=google.com; s=arc-20160816;
        b=XaeeA90ajuhHnterIDU7WMYaOYaxSJg9n5jy1tKn2qOXTW7lZe+d3YCbTofwoOZYve
         tjmGEf54joSc459gxwobQqk/jzuLOFjw4ymzM836D5wV05JDeN0NVqiZgSXJ3RnyN6Nv
         vhm0bzS/Wy3S5KPgRSLCsiz5Su/I82Dmo6rkiIEB6KE4J3wAaRpmk1HhytY0L25EStQ9
         Zyy9esaBebDQ1Ut+vX5LryweN88psSpidta2lMaGOOJXYe8lHuSypGUJeW76kQKQJdg3
         qURYjaVGLZhDb3yRclcDqq5Qno7yciADIiPZ86eNuO7rOD/PJQySLp68WF+NgiLnvZsj
         Zakg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=to:list-id:references:resent-to:message-id:resent-date:cc:date
         :resent-from:in-reply-to:from:subject;
        bh=545LxPDpMtciAUoIl5NXwka5iazaNbbcRK046V+B4XY=;
        b=yxbCmaDNRolgBjditK854SluezglfHiAagdwKbMSQb9kQ0Cl2tafvCrgzbyp7k31+Y
         j0dZEKK/0kMGwLzsvpZT9VoPG/lCnJ5QeM5jRX3Khuwjt5P934E/3b49vXI2X7XXRD4S
         CZdyjvfHBZ/8wGQzHJ2luHXtesMxvwM5EfEQT4onPlxgz1n8fmmo27Vv41xr2A0Quj/9
         Sr8oHr0p779E01wQTQf9EFRlB2gbLHREgMYsL+qRhN+Lz214rkHTw82fX61TfMJFBOQv
         L34WXMxUGzKus1M6WRQx6UdWh8hGRp9n35jOGcffFBP6ueNvFJT6cDPTkVjS0oy9BxEe
         mqWw==
ARC-Authentication-Results: i=1; mx.google.com;
       spf=pass (google.com: domain of esmftester@gmail.com designates 209.85.220.41 as permitted sender) smtp.mailfrom=esmftester@gmail.com
Received: from mail-sor-f41.google.com (mail-sor-f41.google.com. [209.85.220.41])
        by mx.google.com with SMTPS id s70sor48880808itb.26.2018.12.31.11.12.21
        for <tablemesatest@gmail.com>
        (Google Transport Security);
        Mon, 31 Dec 2018 11:12:21 -0800 (PST)
Received-SPF: pass (google.com: domain of esmftester@gmail.com designates 209.85.220.41 as permitted sender) client-ip=209.85.220.41;
Authentication-Results: mx.google.com;
       spf=pass (google.com: domain of esmftester@gmail.com designates 209.85.220.41 as permitted sender) smtp.mailfrom=esmftester@gmail.com
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:subject:from:in-reply-to:resent-from:date:cc
         :resent-date:message-id:resent-to:references:list-id:to;
        bh=545LxPDpMtciAUoIl5NXwka5iazaNbbcRK046V+B4XY=;
        b=joq6Gr4yFlzzM4tLFctY95Zcgf/t5O8N27+8PYRKqCHSXZEhf7ZAUYSDAgeyh9cu94
         6ArsLldzTlWhGjV+Xxk8cc9uR35cGzO28iNDgaxukb8opDCK5cLgQG2joGIe/a2t+GzP
         k7JprrFMb6XakFY64lwu+R3IW/7i2ZDFXrWnBec3v1sM2gH09jl+a5dev3bFKnYovG/i
         4759OtOj1uxGPzpLEmbCP1ge//1nD1q6v5u3Sn9irCueCs586sWhHTjOPpUSwBW45OOh
         iAKzWLZpNQd35vMflh5srNfNnB1ucQLiJFQilWLhs2FdEP6+SGWrI/zCksIcc8tp534G
         uOMg==
X-Gm-Message-State: AA+aEWZNCX9w/cLBpgSULjaZUqUrlB7UVub1OKXd6ro7m1peVMwccf8f
	lqjchKTdN6DOrHoDTvT0LNrGnues
X-Google-Smtp-Source: AFSGD/W62ua4V9QBmNbTs7I2brVwZh8b8ylJwsPKcr5MYeU6TMuulqBwphp2RgnIS26kOpZFT+t6rw==
X-Received: by 2002:a24:6890:: with SMTP id v138mr25758700itb.53.1546283540867;
        Mon, 31 Dec 2018 11:12:20 -0800 (PST)
Received: from ?IPv6:2601:280:4700:7dd6:a03c:48fa:436d:8101? ([2601:280:4700:7dd6:a03c:48fa:436d:8101])
        by smtp.gmail.com with ESMTPSA id l18sm18187625itb.32.2018.12.31.11.12.20
        for <tablemesatest@gmail.com>
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Mon, 31 Dec 2018 11:12:20 -0800 (PST)
Subject: Re: [esmf_support] Optimization on RHs in Connectors between grids
 and meshes
From: Rocky Dunlap <dunlap@ucar.edu>
X-Mailer: Apple Mail (2.3445.9.1)
In-Reply-To: <CADtyBo5daVBaQhTDGF9S_DAyF3PjHCyPFgzDsfN4sAMDc7_rrQ@mail.gmail.com>
Resent-From: Silverio Vasquez <esmftester@gmail.com>
Date: Mon, 31 Dec 2018 12:11:50 -0700
Cc: esmf_support@ucar.edu,
 Mariana Vertenstein <mvertens@ucar.edu>,
 Jim Edwards <jedwards@ucar.edu>
Resent-Date: Mon, 31 Dec 2018 12:12:18 -0700
Message-Id: <CADtyBo4qwigNLqq-eUC_izjQb=NTvdedYJmVhqhg9-XvLAL4PA@mail.gmail.com>
Resent-To: tablemesatest@gmail.com
References: <CADtyBo5daVBaQhTDGF9S_DAyF3PjHCyPFgzDsfN4sAMDc7_rrQ@mail.gmail.com>
List-Id: <esmf_support.cgd.ucar.edu>
To: Gerhard Theurich - NOAA Affiliate <gerhard.j.theurich@noaa.gov>
X-getmail-retrieved-from-mailbox: INBOX
X-GMAIL-THRID: =?utf-8?q?1621393642502026139?=
X-GMAIL-MSGID: =?utf-8?q?1621395811343932893?=

--===============0193835598191224228==
Content-Type: multipart/alternative; boundary="00000000000046014a057e563082"

--00000000000046014a057e563082
Content-Type: text/plain; charset="UTF-8"

Following up on this, another option related to Connector RH optimization
is the ability to read in a RH from file.  This capability already exists
in ESMF and so I suspect adding it to a NUOPC Connector would be
straightforward. The idea would be to introduce a standard attribute to the
connector that, if set, would be the path to a RH file.  If this attribute
is present, the Connector would create the RH based on that file and use it
for all field communication. It would be the user's responsibility to know
that the RH file is appropriate for the source/dest fields.

A related optional attribute to the Connector would instruct it to write
out a RH generated online.

In CESM we could optionally use this for all of the redist operations from
caps to the mediator.

Rocky

On Mon, Dec 31, 2018 at 11:33 AM Rocky Dunlap <dunlap@ucar.edu> wrote:

> Gerhard,
>
> What is your priority for optimization of RHs in the Connector when one
> side is a grid and one side is a mesh?  I think you said it was relatively
> easy implementation, maybe a couple days of work? It is something we would
> benefit from in CESM in the short term since we are running into cases
> where we have a cap with a grid and a mesh in the Mediator and the init
> time is very slow.
>
> An alternative, less satisfying, implementation might be to force the
> connector to assume that the first RH generated is good in all cases.  We
> would consider such a workaround only if you think that it will take some
> time to get to the real optimization.
>
> Rocky
>

--00000000000046014a057e563082
Content-Type: text/html; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Following up on this, another option related to Connector =
RH optimization is the ability to read in a RH from file.=C2=A0 This capabi=
lity already exists in ESMF and so I suspect adding it to a NUOPC Connector=
 would be straightforward. The idea would be to introduce a standard attrib=
ute to the connector that, if set, would be the path to a RH file.=C2=A0 If=
 this attribute is present, the Connector would create the RH based on that=
 file and use it for all field communication. It would be the user&#39;s re=
sponsibility to know that the RH file is appropriate for the source/dest fi=
elds.=C2=A0=C2=A0<div><br></div><div>A related optional attribute to the Co=
nnector would instruct it to write out a RH generated online.</div><div><br=
></div><div>In CESM we could optionally use this for all of the redist oper=
ations from caps to the mediator.<br><div><br></div><div>Rocky</div></div><=
/div><br><div class=3D"gmail_quote"><div dir=3D"ltr">On Mon, Dec 31, 2018 a=
t 11:33 AM Rocky Dunlap &lt;<a href=3D"mailto:dunlap@ucar.edu">dunlap@ucar.=
edu</a>&gt; wrote:<br></div><blockquote class=3D"gmail_quote" style=3D"marg=
in:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1e=
x"><div dir=3D"ltr">Gerhard,<div><br></div><div>What is your priority for o=
ptimization of RHs in the Connector when one side is a grid and one side is=
 a mesh?=C2=A0 I think you said it was relatively easy implementation, mayb=
e a couple days of work? It is something we would benefit from in CESM in t=
he short term since we are running into cases where we have a cap with a gr=
id and a mesh in the Mediator and the init time is very slow.</div><div><br=
></div><div>An alternative, less satisfying, implementation might be to for=
ce the connector to assume that the first RH generated is good in all cases=
.=C2=A0 We would consider such a workaround only if you think that it will =
take some time to get to the real optimization.</div><div><br></div><div>Ro=
cky</div></div>
</blockquote></div>

--00000000000046014a057e563082--

--===============0193835598191224228==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

-- 
esmf_support mailing list
esmf_support@ucar.edu
http://mailman.cgd.ucar.edu/mailman/listinfo/esmf_support

--===============0193835598191224228==--
